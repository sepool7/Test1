{"ast":null,"code":"import{useState,useRef,useEffect}from'react';const usePagination=function(data){let itemsPerPage=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;const[isFirstRender,setIsFirstRender]=useState(true);const[currentPage,setCurrentPage]=useState(0);const maxPage=Math.ceil(data.length/itemsPerPage);const containerRef=useRef(null);useEffect(()=>{if(isFirstRender){setIsFirstRender(false);return;}containerRef.current.scrollIntoView({behavior:'smooth'});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[currentPage]);const currentItems=()=>{const begin=currentPage*itemsPerPage;const end=begin+itemsPerPage;return data.slice(begin,end);};useEffect(()=>{if(currentPage>maxPage-1){setCurrentPage(maxPage-1);}else if(currentPage<0&&maxPage>0){setCurrentPage(0);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[currentItems()]);const next=()=>{setCurrentPage(currentPage=>Math.min(currentPage+1,maxPage));};const prev=()=>{setCurrentPage(currentPage=>Math.max(currentPage-1,0));};const goToPage=page=>{const pageNumber=Math.max(0,page);setCurrentPage(()=>Math.min(pageNumber,maxPage));};const showingOf=()=>{const begin=currentPage*itemsPerPage;const end=data.length>itemsPerPage?begin+itemsPerPage:data.length;return data.length>0?\"Showing \".concat(begin+1,\"-\").concat(end,\" of \").concat(data.length,\" results\"):'';};return{next,prev,goToPage,showingOf,currentItems,currentPage,maxPage,containerRef};};export default usePagination;","map":{"version":3,"names":["useState","useRef","useEffect","usePagination","data","itemsPerPage","arguments","length","undefined","isFirstRender","setIsFirstRender","currentPage","setCurrentPage","maxPage","Math","ceil","containerRef","current","scrollIntoView","behavior","currentItems","begin","end","slice","next","min","prev","max","goToPage","page","pageNumber","showingOf","concat"],"sources":["C:/Users/Public/Ticketchain/ticket/Template/src/hooks/usePagination.js"],"sourcesContent":["import {useState, useRef, useEffect} from 'react';\n\nconst usePagination = (data, itemsPerPage = 10) => {\n    const [isFirstRender, setIsFirstRender] = useState(true);\n    const [currentPage, setCurrentPage] = useState(0);\n    const maxPage = Math.ceil(data.length / itemsPerPage);\n    const containerRef = useRef(null);\n\n    useEffect(() => {\n        if (isFirstRender) {\n            setIsFirstRender(false);\n            return;\n        }\n        containerRef.current.scrollIntoView({behavior: 'smooth'});\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [currentPage]);\n\n    const currentItems = () => {\n        const begin = (currentPage) * itemsPerPage;\n        const end = begin + itemsPerPage;\n        return data.slice(begin, end);\n    };\n\n    useEffect(() => {\n        if (currentPage > maxPage - 1) {\n            setCurrentPage(maxPage - 1);\n        } else if (currentPage < 0 && maxPage > 0) {\n            setCurrentPage(0);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [currentItems()]);\n\n    const next = () => {\n        setCurrentPage((currentPage) => Math.min(currentPage + 1, maxPage));\n    };\n\n    const prev = () => {\n        setCurrentPage((currentPage) => Math.max(currentPage - 1, 0));\n    };\n\n    const goToPage = (page) => {\n        const pageNumber = Math.max(0, page);\n        setCurrentPage(() => Math.min(pageNumber, maxPage));\n    }\n\n    const showingOf = () => {\n        const begin = (currentPage) * itemsPerPage;\n        const end = data.length > itemsPerPage ? begin + itemsPerPage : data.length;\n        return data.length > 0 ? `Showing ${begin + 1}-${end} of ${data.length} results` : '';\n    }\n\n    return { next, prev, goToPage, showingOf, currentItems, currentPage, maxPage, containerRef };\n}\n\nexport default usePagination"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}