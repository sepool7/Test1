{"ast":null,"code":"// styled components\nimport Activity from'./style';// components\nimport StyledTabs from'@ui/StyledTabs';import LazyImage from'@components/LazyImage';import{NavLink}from'react-router-dom';import Pagination from'@ui/Pagination';import NothingFound from'@components/NothingFound';import Spring from'@components/Spring';// utils\nimport dayjs from'dayjs';// hooks\nimport usePagination from'@hooks/usePagination';// context\nimport{useFilterContext}from'@contexts/filterContext';// data placeholder\nimport activity from'@db/activity';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const relativeTime=require('dayjs/plugin/relativeTime');dayjs.extend(relativeTime);const TabContent=_ref=>{let{activity,currentUser,perPage,data}=_ref;const details=_ref2=>{let{type,qty,operation}=_ref2;switch(type){case'bid':return{text:\"bid \".concat(operation==='cancel'?'canceled':'placed',\" by \"),icon:'bid'};case'like':return{text:'liked by ',icon:'heart-o-regular'};case'list':return{text:\"\".concat(qty,\" edition\").concat(qty!==1?'s':'',\" minted by \"),icon:'tags-regular'};case'purchase':return{text:\"\".concat(qty,\" edition\").concat(qty!==1?'s':'',\" purchased by \"),icon:'basket-regular'};default:case'subscription':return{text:'started following ',icon:'check-regular'};}};const dataArr=()=>{switch(activity){case'recent':return data.filter(item=>dayjs(item.date).isAfter(dayjs().subtract(1,'days')));case'unread':return data.filter(item=>item.read===false);default:case'all':return data;}};const pagination=usePagination(dataArr(),perPage);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"list d-flex flex-column g-20\",ref:pagination.containerRef,children:pagination.currentItems().length?pagination.currentItems().map((item,index)=>/*#__PURE__*/_jsx(Spring,{index:index,children:/*#__PURE__*/_jsxs(\"div\",{className:\"list-item d-flex\",children:[/*#__PURE__*/_jsx(LazyImage,{className:\"media square border-10\",src:item.user.avatar,alt:item.user.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"main d-flex align-items-center g-20 bg-secondary text-bold text-sm border-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper flex-1\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"main_user\",children:currentUser}),/*#__PURE__*/_jsxs(\"p\",{className:\"main_details\",children:[details(item.details).text,/*#__PURE__*/_jsx(NavLink,{className:\"text-light link-hover\",to:\"/author\",children:item.user.name}),item.details.type==='purchase'&&\" for \".concat(item.details.price,\" ETH\")]}),/*#__PURE__*/_jsx(\"span\",{children:dayjs(item.date).fromNow()})]}),/*#__PURE__*/_jsx(\"span\",{className:\"main_icon btn--icon text-accent\",children:/*#__PURE__*/_jsx(\"i\",{className:\"icon-\".concat(details(item.details).icon)})})]})]})},item.id)):/*#__PURE__*/_jsx(NothingFound,{})}),pagination.maxPage>1&&/*#__PURE__*/_jsx(Pagination,{pagination:pagination})]});};const Feed=()=>{const currentUser='Rebecca Jackson';const perPage=10;const{filters}=useFilterContext();const data=filters.length?activity.filter(item=>filters.includes(item.details.type)):activity;const commonProps={currentUser,perPage,data};const tabs=[{label:'All activity',key:'item-1',children:/*#__PURE__*/_jsx(TabContent,{activity:\"all\",...commonProps})},{label:'Recent',key:'item-2',children:/*#__PURE__*/_jsx(TabContent,{activity:\"recent\",...commonProps})},{label:'Unread',key:'item-3',children:/*#__PURE__*/_jsx(TabContent,{activity:\"unread\",...commonProps})}];return/*#__PURE__*/_jsx(Activity,{children:/*#__PURE__*/_jsx(StyledTabs,{tabs:tabs})});};export default Feed;","map":{"version":3,"names":["Activity","StyledTabs","LazyImage","NavLink","Pagination","NothingFound","Spring","dayjs","usePagination","useFilterContext","activity","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","relativeTime","require","extend","TabContent","_ref","currentUser","perPage","data","details","_ref2","type","qty","operation","text","concat","icon","dataArr","filter","item","date","isAfter","subtract","read","pagination","children","className","ref","containerRef","currentItems","length","map","index","src","user","avatar","alt","name","to","price","fromNow","id","maxPage","Feed","filters","includes","commonProps","tabs","label","key"],"sources":["C:/Users/Public/Ticketchain/ticket/Template/src/layout/activity/Feed/index.jsx"],"sourcesContent":["// styled components\nimport Activity from './style';\n\n// components\nimport StyledTabs from '@ui/StyledTabs';\nimport LazyImage from '@components/LazyImage';\nimport {NavLink} from 'react-router-dom';\nimport Pagination from '@ui/Pagination';\nimport NothingFound from '@components/NothingFound';\nimport Spring from '@components/Spring';\n\n// utils\nimport dayjs from 'dayjs';\n\n// hooks\nimport usePagination from '@hooks/usePagination';\n\n// context\nimport {useFilterContext} from '@contexts/filterContext';\n\n// data placeholder\nimport activity from '@db/activity';\n\nconst relativeTime = require('dayjs/plugin/relativeTime');\ndayjs.extend(relativeTime);\n\nconst TabContent = ({activity, currentUser, perPage, data}) => {\n    const details = ({type, qty, operation}) => {\n        switch (type) {\n            case 'bid':\n                return {\n                    text: `bid ${operation === 'cancel' ? 'canceled' : 'placed'} by `,\n                    icon: 'bid'\n                }\n            case 'like':\n                return {\n                    text: 'liked by ',\n                    icon: 'heart-o-regular'\n                }\n            case 'list':\n                return {\n                    text: `${qty} edition${qty !== 1 ? 's' : ''} minted by `,\n                    icon: 'tags-regular'\n                }\n            case 'purchase':\n                return {\n                    text: `${qty} edition${qty !== 1 ? 's' : ''} purchased by `,\n                    icon: 'basket-regular'\n                }\n            default:\n            case 'subscription':\n                return {\n                    text: 'started following ',\n                    icon: 'check-regular'\n                }\n        }\n    }\n\n    const dataArr = () => {\n        switch (activity) {\n            case 'recent':\n                return data.filter((item) => dayjs(item.date).isAfter(dayjs().subtract(1, 'days')));\n            case 'unread':\n                return data.filter((item) => item.read === false);\n            default:\n            case 'all':\n                return data;\n        }\n    }\n\n    const pagination = usePagination(dataArr(), perPage);\n\n    return (\n        <>\n            <div className=\"list d-flex flex-column g-20\" ref={pagination.containerRef}>\n                {\n                    pagination.currentItems().length ?\n                        pagination.currentItems().map((item, index) => (\n                            <Spring key={item.id} index={index}>\n                                <div className=\"list-item d-flex\">\n                                    <LazyImage className=\"media square border-10\" src={item.user.avatar}\n                                               alt={item.user.name}/>\n                                    <div\n                                        className=\"main d-flex align-items-center g-20 bg-secondary text-bold text-sm border-10\">\n                                        <div className=\"wrapper flex-1\">\n                                            <h6 className=\"main_user\">{currentUser}</h6>\n                                            <p className=\"main_details\">\n                                                {details(item.details).text}\n                                                <NavLink className=\"text-light link-hover\" to=\"/author\">\n                                                    {item.user.name}\n                                                </NavLink>\n                                                {item.details.type === 'purchase' && ` for ${item.details.price} ETH`}\n                                            </p>\n                                            <span>{dayjs(item.date).fromNow()}</span>\n                                        </div>\n                                        <span className=\"main_icon btn--icon text-accent\">\n                                            <i className={`icon-${details(item.details).icon}`}/>\n                                        </span>\n                                    </div>\n                                </div>\n                            </Spring>\n                        ))\n                        :\n                        <NothingFound/>\n                }\n            </div>\n            {pagination.maxPage > 1 && <Pagination pagination={pagination}/>}\n        </>\n    )\n}\n\nconst Feed = () => {\n    const currentUser = 'Rebecca Jackson';\n    const perPage = 10;\n    const {filters} = useFilterContext();\n    const data = filters.length ? activity.filter((item) => filters.includes(item.details.type)) : activity;\n\n    const commonProps = {\n        currentUser,\n        perPage,\n        data\n    }\n\n    const tabs = [\n        {label: 'All activity', key: 'item-1', children: <TabContent activity=\"all\" {...commonProps}/>},\n        {label: 'Recent', key: 'item-2', children: <TabContent activity=\"recent\" {...commonProps}/>},\n        {label: 'Unread', key: 'item-3', children: <TabContent activity=\"unread\" {...commonProps}/>},\n    ];\n\n    return (\n        <Activity>\n            <StyledTabs tabs={tabs}/>\n        </Activity>\n    )\n}\n\nexport default Feed"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}