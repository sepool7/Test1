{"ast":null,"code":"// components\nimport Truncate from'react-truncate';// hooks\nimport{useState,useEffect}from'react';// utils\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CollapsedText=_ref=>{let{text,lines=2,className,withButton=false,width}=_ref;const[truncated,setTruncated]=useState(false);const[expanded,setExpanded]=useState(false);const[mounted,setMounted]=useState(false);const handleExpand=e=>{e.preventDefault();setExpanded(true);};useEffect(()=>{setMounted(true);return()=>setMounted(false);},[]);return/*#__PURE__*/_jsx(\"span\",{className:className?className:'',children:mounted&&/*#__PURE__*/_jsx(Truncate,{lines:!expanded&&lines,ellipsis:/*#__PURE__*/_jsxs(\"span\",{children:[\"... \",withButton&&/*#__PURE__*/_jsx(\"button\",{className:\"text-divider\",onClick:handleExpand,children:\"Read more\"})]}),onTruncate:()=>setTruncated(!truncated),width:width,children:text})});};export default CollapsedText;","map":{"version":3,"names":["Truncate","useState","useEffect","jsx","_jsx","jsxs","_jsxs","CollapsedText","_ref","text","lines","className","withButton","width","truncated","setTruncated","expanded","setExpanded","mounted","setMounted","handleExpand","e","preventDefault","children","ellipsis","onClick","onTruncate"],"sources":["C:/Users/Public/Ticketchain/ticket/Template/src/components/CollapsedText.jsx"],"sourcesContent":["// components\nimport Truncate from 'react-truncate';\n\n// hooks\nimport {useState, useEffect} from 'react';\n\n// utils\nimport PropTypes from 'prop-types';\n\nconst CollapsedText = ({text, lines = 2, className, withButton = false, width}) => {\n    const [truncated, setTruncated] = useState(false);\n    const [expanded, setExpanded] = useState(false);\n    const [mounted, setMounted] = useState(false);\n\n    const handleExpand = e => {\n        e.preventDefault();\n        setExpanded(true);\n    }\n\n    useEffect(() => {\n        setMounted(true);\n\n        return () => setMounted(false);\n    }, []);\n\n    return (\n        <span className={className ? className : ''}>\n           {\n               mounted && (\n                   <Truncate\n                       lines={!expanded && lines}\n                       ellipsis={(\n                           <span>... {\n                               withButton &&\n                               <button className=\"text-divider\" onClick={handleExpand}>Read more</button>}\n                    </span>\n                       )}\n                       onTruncate={() => setTruncated(!truncated)}\n                       width={width}\n                   >\n                       {text}\n                   </Truncate>\n               )\n           }\n        </span>\n    )\n}\n\nCollapsedText.propTypes = {\n    text: PropTypes.string.isRequired,\n    lines: PropTypes.number,\n    className: PropTypes.string,\n    withButton: PropTypes.bool,\n    width: PropTypes.number.isRequired\n}\n\nexport default CollapsedText"],"mappings":"AAAA;AACA,MAAO,CAAAA,QAAQ,KAAM,gBAAgB,CAErC;AACA,OAAQC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAEzC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGA,KAAM,CAAAC,aAAa,CAAGC,IAAA,EAA6D,IAA5D,CAACC,IAAI,CAAEC,KAAK,CAAG,CAAC,CAAEC,SAAS,CAAEC,UAAU,CAAG,KAAK,CAAEC,KAAK,CAAC,CAAAL,IAAA,CAC1E,KAAM,CAACM,SAAS,CAAEC,YAAY,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACe,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAmB,YAAY,CAAGC,CAAC,EAAI,CACtBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBL,WAAW,CAAC,IAAI,CAAC,CACrB,CAAC,CAEDf,SAAS,CAAC,IAAM,CACZiB,UAAU,CAAC,IAAI,CAAC,CAEhB,MAAO,IAAMA,UAAU,CAAC,KAAK,CAAC,CAClC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIf,IAAA,SAAMO,SAAS,CAAEA,SAAS,CAAGA,SAAS,CAAG,EAAG,CAAAY,QAAA,CAErCL,OAAO,eACHd,IAAA,CAACJ,QAAQ,EACLU,KAAK,CAAE,CAACM,QAAQ,EAAIN,KAAM,CAC1Bc,QAAQ,cACJlB,KAAA,SAAAiB,QAAA,EAAM,MAAI,CACNX,UAAU,eACVR,IAAA,WAAQO,SAAS,CAAC,cAAc,CAACc,OAAO,CAAEL,YAAa,CAAAG,QAAA,CAAC,WAAS,CAAQ,CAAC,EAC/E,CACD,CACFG,UAAU,CAAEA,CAAA,GAAMX,YAAY,CAAC,CAACD,SAAS,CAAE,CAC3CD,KAAK,CAAEA,KAAM,CAAAU,QAAA,CAEZd,IAAI,CACC,CACb,CAEF,CAAC,CAEf,CAAC,CAUD,cAAe,CAAAF,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}