{"ast":null,"code":"import{createContext,useState,useContext}from'react';import all_items from'@db/all_items';import{SORTING_OPTIONS,CRYPTO_CURRENCIES}from'@constants/explore';import{jsx as _jsx}from\"react/jsx-runtime\";export const ExploreContext=/*#__PURE__*/createContext(undefined);export const ExploreContextAPI=_ref=>{let{children}=_ref;const items=all_items;const[categories,setCategories]=useState([]);const[statuses,setStatuses]=useState([]);const[itemType,setItemType]=useState('');const[priceRange,setPriceRange]=useState({min:'',max:''});const[sort,setSort]=useState(SORTING_OPTIONS[0]);const[cryptoCurrency,setCryptoCurrency]=useState(CRYPTO_CURRENCIES[0]);const[applyPriceFilter,setApplyPriceFilter]=useState(false);const setChecked=(type,value)=>{switch(type){case'categories':categories.includes(value)?setCategories(categories.filter(c=>c!==value)):setCategories([...categories,value]);break;case'statuses':statuses.includes(value)?setStatuses(statuses.filter(s=>s!==value)):setStatuses([...statuses,value]);break;case'types':value===itemType?setItemType(''):setItemType(value);break;default:break;}};const filteredItems=items.filter(item=>{return(categories.length===0||item.categories&&item.categories.some(category=>categories.includes(category)))&&(statuses.length===0||item.statuses&&item.statuses.some(status=>statuses.includes(status)))&&(itemType===''||itemType===item.type)&&(applyPriceFilter?item.price>=priceRange.min&&item.price<=priceRange.max:true);});const sortedItems=filteredItems.sort((a,b)=>{if(sort.value==='default'){return a.id-b.id;}else if(sort.value==='price-asc'){return a.price-b.price;}else if(sort.value==='price-desc'){return b.price-a.price;}else if(sort.value==='likes-asc'){return b.likes-a.likes;}else if(sort.value==='likes-desc'){return a.likes-b.likes;}});return/*#__PURE__*/_jsx(ExploreContext.Provider,{value:{items,categories,setCategories,statuses,setStatuses,itemType,setItemType,priceRange,setPriceRange,sortedItems,sort,setSort,setChecked,cryptoCurrency,setCryptoCurrency,applyPriceFilter,setApplyPriceFilter},children:children});};export const useExploreContext=()=>useContext(ExploreContext);","map":{"version":3,"names":["createContext","useState","useContext","all_items","SORTING_OPTIONS","CRYPTO_CURRENCIES","jsx","_jsx","ExploreContext","undefined","ExploreContextAPI","_ref","children","items","categories","setCategories","statuses","setStatuses","itemType","setItemType","priceRange","setPriceRange","min","max","sort","setSort","cryptoCurrency","setCryptoCurrency","applyPriceFilter","setApplyPriceFilter","setChecked","type","value","includes","filter","c","s","filteredItems","item","length","some","category","status","price","sortedItems","a","b","id","likes","Provider","useExploreContext"],"sources":["C:/Users/Public/Ticketchain/ticket/Template/src/contexts/exploreContext.js"],"sourcesContent":["import {createContext, useState, useContext} from 'react';\nimport all_items from '@db/all_items';\nimport {SORTING_OPTIONS, CRYPTO_CURRENCIES} from '@constants/explore';\n\nexport const ExploreContext = createContext(undefined);\n\nexport const ExploreContextAPI = ({children}) => {\n    const items = all_items;\n    const [categories, setCategories] = useState([]);\n    const [statuses, setStatuses] = useState([]);\n    const [itemType, setItemType] = useState('');\n    const [priceRange, setPriceRange] = useState({min: '', max: ''});\n    const [sort, setSort] = useState(SORTING_OPTIONS[0]);\n    const [cryptoCurrency, setCryptoCurrency] = useState(CRYPTO_CURRENCIES[0]);\n    const [applyPriceFilter, setApplyPriceFilter] = useState(false);\n\n    const setChecked = (type, value) => {\n        switch (type) {\n            case 'categories':\n                categories.includes(value) ? setCategories(categories.filter(c => c !== value)) : setCategories([...categories, value]);\n                break;\n            case 'statuses':\n                statuses.includes(value) ? setStatuses(statuses.filter(s => s !== value)) : setStatuses([...statuses, value]);\n                break;\n            case 'types':\n                value === itemType ? setItemType('') : setItemType(value);\n                break;\n            default:\n                break;\n        }\n    }\n\n    const filteredItems = items.filter(item => {\n        return (\n            (categories.length === 0 || (item.categories && item.categories.some(category => categories.includes(category)))) &&\n            (statuses.length === 0 || (item.statuses && item.statuses.some(status => statuses.includes(status)))) &&\n            (itemType === '' || itemType === item.type) &&\n            (applyPriceFilter ? item.price >= priceRange.min && item.price <= priceRange.max : true)\n        );\n    });\n\n    const sortedItems = filteredItems.sort((a, b) => {\n        if (sort.value === 'default') {\n            return a.id - b.id;\n        } else if (sort.value === 'price-asc') {\n            return a.price - b.price;\n        } else if (sort.value === 'price-desc') {\n            return b.price - a.price;\n        } else if (sort.value === 'likes-asc') {\n            return b.likes - a.likes;\n        } else if (sort.value === 'likes-desc') {\n            return a.likes - b.likes;\n        }\n    });\n\n    return (\n        <ExploreContext.Provider value={{\n            items,\n            categories,\n            setCategories,\n            statuses,\n            setStatuses,\n            itemType,\n            setItemType,\n            priceRange,\n            setPriceRange,\n            sortedItems,\n            sort,\n            setSort,\n            setChecked,\n            cryptoCurrency,\n            setCryptoCurrency,\n            applyPriceFilter,\n            setApplyPriceFilter\n        }}>\n            {children}\n        </ExploreContext.Provider>\n    );\n}\n\nexport const useExploreContext = () => useContext(ExploreContext);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}