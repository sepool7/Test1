{"ast":null,"code":"var _jsxFileName = \"D:\\\\react-project\\\\ChainblockTicket2\\\\Template\\\\src\\\\contexts\\\\filterContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useState, useContext, useEffect } from 'react';\nimport useScrollLock from '@hooks/useScrollLock';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FilterContext = /*#__PURE__*/createContext(undefined);\nexport const FilterContextAPI = ({\n  children\n}) => {\n  _s();\n  const [search, setSearch] = useState('');\n  const [filters, setFilters] = useState([]);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const {\n    lockScroll,\n    unlockScroll\n  } = useScrollLock();\n  const setQuery = query => {\n    setSearch(query);\n  };\n  const changeFilters = filter => {\n    if (filters.includes(filter)) {\n      setFilters(filters.filter(f => f !== filter));\n    } else {\n      setFilters([...filters, filter]);\n    }\n  };\n  const resetFilters = () => setFilters([]);\n  const filterData = (data, selector) => {\n    return data.filter(item => {\n      const isSearch = item[selector].toLowerCase().includes(search.toLowerCase()) || search === '';\n      const isCategory = filters.length === 0 || item.categories.some(category => filters.includes(category));\n      return isSearch && isCategory;\n    });\n  };\n  const openSidebar = () => setIsSidebarOpen(true);\n  const closeSidebar = () => setIsSidebarOpen(false);\n  useEffect(() => {\n    isSidebarOpen ? lockScroll() : unlockScroll();\n    window.addEventListener('resize', () => {\n      unlockScroll();\n    });\n    return () => {\n      unlockScroll();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isSidebarOpen]);\n  return /*#__PURE__*/_jsxDEV(FilterContext.Provider, {\n    value: {\n      search,\n      filters,\n      filterData,\n      isSidebarOpen,\n      setQuery,\n      changeFilters,\n      resetFilters,\n      openSidebar,\n      closeSidebar\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n_s(FilterContextAPI, \"RnVbhWYDiYOGs6olPTDdF3mTJmc=\", false, function () {\n  return [useScrollLock];\n});\n_c = FilterContextAPI;\nexport const useFilterContext = () => {\n  _s2();\n  return useContext(FilterContext);\n};\n_s2(useFilterContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"FilterContextAPI\");","map":{"version":3,"names":["createContext","useState","useContext","useEffect","useScrollLock","jsxDEV","_jsxDEV","FilterContext","undefined","FilterContextAPI","children","_s","search","setSearch","filters","setFilters","isSidebarOpen","setIsSidebarOpen","lockScroll","unlockScroll","setQuery","query","changeFilters","filter","includes","f","resetFilters","filterData","data","selector","item","isSearch","toLowerCase","isCategory","length","categories","some","category","openSidebar","closeSidebar","window","addEventListener","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useFilterContext","_s2","$RefreshReg$"],"sources":["D:/react-project/ChainblockTicket2/Template/src/contexts/filterContext.js"],"sourcesContent":["import {createContext, useState, useContext, useEffect} from 'react';\nimport useScrollLock from '@hooks/useScrollLock';\n\nexport const FilterContext = createContext(undefined);\n\nexport const FilterContextAPI = ({children}) => {\n    const [search, setSearch] = useState('');\n    const [filters, setFilters] = useState([]);\n    const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n    const {lockScroll, unlockScroll} = useScrollLock();\n\n    const setQuery = (query) => {\n        setSearch(query);\n    }\n\n    const changeFilters = (filter) => {\n        if (filters.includes(filter)) {\n            setFilters(filters.filter(f => f !== filter));\n        } else {\n            setFilters([...filters, filter]);\n        }\n    }\n\n    const resetFilters = () => setFilters([]);\n\n    const filterData = (data, selector) => {\n        return data.filter(item => {\n            const isSearch = item[selector].toLowerCase().includes(search.toLowerCase()) || search === '';\n            const isCategory = filters.length === 0 || item.categories.some(category => filters.includes(category));\n\n            return isSearch && isCategory;\n        });\n    }\n\n    const openSidebar = () => setIsSidebarOpen(true);\n\n    const closeSidebar = () => setIsSidebarOpen(false);\n\n    useEffect(() => {\n        isSidebarOpen ? lockScroll() : unlockScroll();\n\n        window.addEventListener('resize', () => {\n            unlockScroll();\n        });\n\n        return () => {\n            unlockScroll();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isSidebarOpen]);\n\n    return (\n        <FilterContext.Provider value={{\n            search,\n            filters,\n            filterData,\n            isSidebarOpen,\n            setQuery,\n            changeFilters,\n            resetFilters,\n            openSidebar,\n            closeSidebar\n        }}>\n            {children}\n        </FilterContext.Provider>\n    );\n}\n\nexport const useFilterContext = () => useContext(FilterContext);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}