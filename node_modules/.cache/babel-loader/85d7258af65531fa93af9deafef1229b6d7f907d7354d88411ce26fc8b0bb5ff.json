{"ast":null,"code":"import{createContext,useState,useContext,useEffect}from'react';import useScrollLock from'@hooks/useScrollLock';import{jsx as _jsx}from\"react/jsx-runtime\";export const FilterContext=/*#__PURE__*/createContext(undefined);export const FilterContextAPI=_ref=>{let{children}=_ref;const[search,setSearch]=useState('');const[filters,setFilters]=useState([]);const[isSidebarOpen,setIsSidebarOpen]=useState(false);const{lockScroll,unlockScroll}=useScrollLock();const setQuery=query=>{setSearch(query);};const changeFilters=filter=>{if(filters.includes(filter)){setFilters(filters.filter(f=>f!==filter));}else{setFilters([...filters,filter]);}};const resetFilters=()=>setFilters([]);const filterData=(data,selector)=>{return data.filter(item=>{const isSearch=item[selector].toLowerCase().includes(search.toLowerCase())||search==='';const isCategory=filters.length===0||item.categories.some(category=>filters.includes(category));return isSearch&&isCategory;});};const openSidebar=()=>setIsSidebarOpen(true);const closeSidebar=()=>setIsSidebarOpen(false);useEffect(()=>{isSidebarOpen?lockScroll():unlockScroll();window.addEventListener('resize',()=>{unlockScroll();});return()=>{unlockScroll();};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[isSidebarOpen]);return/*#__PURE__*/_jsx(FilterContext.Provider,{value:{search,filters,filterData,isSidebarOpen,setQuery,changeFilters,resetFilters,openSidebar,closeSidebar},children:children});};export const useFilterContext=()=>useContext(FilterContext);","map":{"version":3,"names":["createContext","useState","useContext","useEffect","useScrollLock","jsx","_jsx","FilterContext","undefined","FilterContextAPI","_ref","children","search","setSearch","filters","setFilters","isSidebarOpen","setIsSidebarOpen","lockScroll","unlockScroll","setQuery","query","changeFilters","filter","includes","f","resetFilters","filterData","data","selector","item","isSearch","toLowerCase","isCategory","length","categories","some","category","openSidebar","closeSidebar","window","addEventListener","Provider","value","useFilterContext"],"sources":["D:/react-project/ChainblockTicket2/Template/src/contexts/filterContext.js"],"sourcesContent":["import {createContext, useState, useContext, useEffect} from 'react';\nimport useScrollLock from '@hooks/useScrollLock';\n\nexport const FilterContext = createContext(undefined);\n\nexport const FilterContextAPI = ({children}) => {\n    const [search, setSearch] = useState('');\n    const [filters, setFilters] = useState([]);\n    const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n    const {lockScroll, unlockScroll} = useScrollLock();\n\n    const setQuery = (query) => {\n        setSearch(query);\n    }\n\n    const changeFilters = (filter) => {\n        if (filters.includes(filter)) {\n            setFilters(filters.filter(f => f !== filter));\n        } else {\n            setFilters([...filters, filter]);\n        }\n    }\n\n    const resetFilters = () => setFilters([]);\n\n    const filterData = (data, selector) => {\n        return data.filter(item => {\n            const isSearch = item[selector].toLowerCase().includes(search.toLowerCase()) || search === '';\n            const isCategory = filters.length === 0 || item.categories.some(category => filters.includes(category));\n\n            return isSearch && isCategory;\n        });\n    }\n\n    const openSidebar = () => setIsSidebarOpen(true);\n\n    const closeSidebar = () => setIsSidebarOpen(false);\n\n    useEffect(() => {\n        isSidebarOpen ? lockScroll() : unlockScroll();\n\n        window.addEventListener('resize', () => {\n            unlockScroll();\n        });\n\n        return () => {\n            unlockScroll();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isSidebarOpen]);\n\n    return (\n        <FilterContext.Provider value={{\n            search,\n            filters,\n            filterData,\n            isSidebarOpen,\n            setQuery,\n            changeFilters,\n            resetFilters,\n            openSidebar,\n            closeSidebar\n        }}>\n            {children}\n        </FilterContext.Provider>\n    );\n}\n\nexport const useFilterContext = () => useContext(FilterContext);"],"mappings":"AAAA,OAAQA,aAAa,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,SAAS,KAAO,OAAO,CACpE,MAAO,CAAAC,aAAa,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEjD,MAAO,MAAM,CAAAC,aAAa,cAAGP,aAAa,CAACQ,SAAS,CAAC,CAErD,MAAO,MAAM,CAAAC,gBAAgB,CAAGC,IAAA,EAAgB,IAAf,CAACC,QAAQ,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACe,aAAa,CAAEC,gBAAgB,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAACiB,UAAU,CAAEC,YAAY,CAAC,CAAGf,aAAa,CAAC,CAAC,CAElD,KAAM,CAAAgB,QAAQ,CAAIC,KAAK,EAAK,CACxBR,SAAS,CAACQ,KAAK,CAAC,CACpB,CAAC,CAED,KAAM,CAAAC,aAAa,CAAIC,MAAM,EAAK,CAC9B,GAAIT,OAAO,CAACU,QAAQ,CAACD,MAAM,CAAC,CAAE,CAC1BR,UAAU,CAACD,OAAO,CAACS,MAAM,CAACE,CAAC,EAAIA,CAAC,GAAKF,MAAM,CAAC,CAAC,CACjD,CAAC,IAAM,CACHR,UAAU,CAAC,CAAC,GAAGD,OAAO,CAAES,MAAM,CAAC,CAAC,CACpC,CACJ,CAAC,CAED,KAAM,CAAAG,YAAY,CAAGA,CAAA,GAAMX,UAAU,CAAC,EAAE,CAAC,CAEzC,KAAM,CAAAY,UAAU,CAAGA,CAACC,IAAI,CAAEC,QAAQ,GAAK,CACnC,MAAO,CAAAD,IAAI,CAACL,MAAM,CAACO,IAAI,EAAI,CACvB,KAAM,CAAAC,QAAQ,CAAGD,IAAI,CAACD,QAAQ,CAAC,CAACG,WAAW,CAAC,CAAC,CAACR,QAAQ,CAACZ,MAAM,CAACoB,WAAW,CAAC,CAAC,CAAC,EAAIpB,MAAM,GAAK,EAAE,CAC7F,KAAM,CAAAqB,UAAU,CAAGnB,OAAO,CAACoB,MAAM,GAAK,CAAC,EAAIJ,IAAI,CAACK,UAAU,CAACC,IAAI,CAACC,QAAQ,EAAIvB,OAAO,CAACU,QAAQ,CAACa,QAAQ,CAAC,CAAC,CAEvG,MAAO,CAAAN,QAAQ,EAAIE,UAAU,CACjC,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAK,WAAW,CAAGA,CAAA,GAAMrB,gBAAgB,CAAC,IAAI,CAAC,CAEhD,KAAM,CAAAsB,YAAY,CAAGA,CAAA,GAAMtB,gBAAgB,CAAC,KAAK,CAAC,CAElDd,SAAS,CAAC,IAAM,CACZa,aAAa,CAAGE,UAAU,CAAC,CAAC,CAAGC,YAAY,CAAC,CAAC,CAE7CqB,MAAM,CAACC,gBAAgB,CAAC,QAAQ,CAAE,IAAM,CACpCtB,YAAY,CAAC,CAAC,CAClB,CAAC,CAAC,CAEF,MAAO,IAAM,CACTA,YAAY,CAAC,CAAC,CAClB,CAAC,CACD;AACJ,CAAC,CAAE,CAACH,aAAa,CAAC,CAAC,CAEnB,mBACIV,IAAA,CAACC,aAAa,CAACmC,QAAQ,EAACC,KAAK,CAAE,CAC3B/B,MAAM,CACNE,OAAO,CACPa,UAAU,CACVX,aAAa,CACbI,QAAQ,CACRE,aAAa,CACbI,YAAY,CACZY,WAAW,CACXC,YACJ,CAAE,CAAA5B,QAAA,CACGA,QAAQ,CACW,CAAC,CAEjC,CAAC,CAED,MAAO,MAAM,CAAAiC,gBAAgB,CAAGA,CAAA,GAAM1C,UAAU,CAACK,aAAa,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}